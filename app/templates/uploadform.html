{% extends "base.html" %}

{% block content %}
<form class="form" action="" method="POST" enctype="multipart/form-data">
  {{ form.hidden_tag() }}
    <label id="file-upload-label" for="file-upload" class="form__item form__submit">
      Select File
    </label>
    {{ form.file(class_="form__item", id_="file-upload") }}
    {{ form.submit(class_="form__submit form__item") }}

  </form>
  <script>
    const input = document.querySelector("#file-upload")
    input.onchange = (e) => {
      const [file] = e.target.files
      var buttonText = document.getElementById("file-upload-label")
      buttonText.innerHTML = file.name
      console.log(file.name)
    }
    </script>

  {% endblock %}
